# üîÆ CoP OR√ÅCULO - Comunidad de Pr√°ctica Gamificada

**Una revoluci√≥n en la gesti√≥n de feedback transformada en sabidur√≠a colectiva**

---

## üìñ ¬øQu√© es la CoP Or√°culo?

La **Comunidad de Pr√°ctica "Or√°culo"** es un sistema gamificado dise√±ado espec√≠ficamente para los administradores de Coom√únity. Transforma el proceso tradicional de gesti√≥n de feedback en una experiencia colaborativa que genera **L√ºkas de Sabidur√≠a** - una econom√≠a interna basada en los principios de Ayni y el Bien Com√∫n.

### üéØ Objetivos Principales

1. **Convertir Feedback en Sabidur√≠a**: Cada reporte se transforma en conocimiento colectivo
2. **Gamificar la Colaboraci√≥n**: Sistema de recompensas alineado con la filosof√≠a Coom√únity  
3. **Fortalecer el Ayni**: Reciprocidad entre administradores que cuidan la experiencia
4. **Generar Valor Sostenible**: Econom√≠a interna que refuerza el compromiso con el Bien Com√∫n

---

## üöÄ Instalaci√≥n R√°pida

### Prerrequisitos

- **Node.js** 18+ 
- **PostgreSQL** ejecut√°ndose
- **Redis** ejecut√°ndose (opcional pero recomendado)
- **npm** o **yarn**

### 1. Setup Completo Automatizado

```bash
# Clonar el repositorio (si es necesario)
git clone [tu-repo-url]
cd [proyecto-coomunity]

# Ejecutar setup autom√°tico
chmod +x scripts/cop-oraculo-setup.sh
./scripts/cop-oraculo-setup.sh

# Para instalaci√≥n limpia (elimina node_modules previos)
./scripts/cop-oraculo-setup.sh --clean

# Solo backend (sin frontend)
./scripts/cop-oraculo-setup.sh --backend-only
```

### 2. Inicio R√°pido (Despu√©s del Setup)

```bash
# Iniciar solo la CoP Or√°culo
./scripts/cop-oraculo-start.sh

# O usar comandos npm tradicionales
npm run start:backend:dev
```

### 3. Limpieza de Servicios

```bash
# Detener y limpiar todos los servicios
./scripts/cop-oraculo-cleanup.sh
```

---

## üóÑÔ∏è Estructura de la Base de Datos

### Modelo Principal: `Feedback`

```prisma
model Feedback {
  id                    String         @id @default(cuid())
  userId                String
  pageUrl               String
  feedbackText          String
  feedbackType          FeedbackType
  status                FeedbackStatus @default(PENDING)
  
  // Contexto T√©cnico
  componentContext      String?
  technicalContext      Json?
  
  // Metadatos para CoP
  priority              Int            @default(3)
  tags                  String[]
  lukasReward           Float?
  
  // Auditor√≠a
  createdAt             DateTime       @default(now())
  updatedAt             DateTime       @updatedAt
  
  // Relaciones
  user                  User           @relation(fields: [userId], references: [id])
}

enum FeedbackType {
  BUG
  IMPROVEMENT  
  MISSING_FEATURE
  UI_UX
  PERFORMANCE
  OTHER
}

enum FeedbackStatus {
  PENDING
  IN_REVIEW
  ASSIGNED
  IN_PROGRESS
  RESOLVED
  CLOSED
}
```

---

## üîó API Endpoints

### Base URL: `http://localhost:3002`

### üìù Gesti√≥n de Feedback

| M√©todo | Endpoint | Descripci√≥n | Auth |
|--------|----------|-------------|------|
| `POST` | `/feedback` | Crear nuevo feedback | JWT |
| `GET` | `/feedback` | Listar feedback | JWT |
| `GET` | `/feedback/stats` | Estad√≠sticas de feedback | JWT |
| `PATCH` | `/feedback/:id/status` | Actualizar estado | JWT + Admin |
| `POST` | `/feedback/:id/assign` | Asignar a administrador | JWT + Admin |

### üí∞ Econom√≠a de L√ºkas (Pr√≥ximamente)

| M√©todo | Endpoint | Descripci√≥n | Auth |
|--------|----------|-------------|------|
| `GET` | `/feedback/lukas/balance` | Balance de L√ºkas del usuario | JWT |
| `POST` | `/feedback/lukas/transfer` | Transferir L√ºkas | JWT |
| `GET` | `/feedback/lukas/leaderboard` | Ranking de contribuciones | JWT |

### üìä Analytics y Gamificaci√≥n (Pr√≥ximamente)

| M√©todo | Endpoint | Descripci√≥n | Auth |
|--------|----------|-------------|------|
| `GET` | `/feedback/analytics/dashboard` | Dashboard personalizado | JWT |
| `GET` | `/feedback/achievements` | Logros desbloqueados | JWT |
| `GET` | `/feedback/community/insights` | Insights de la comunidad | JWT |

---

## üß™ Testing

### Crear Feedback de Prueba

```bash
# Test b√°sico del endpoint
curl -X POST http://localhost:3002/feedback \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [TU_JWT_TOKEN]" \
  -d '{
    "pageUrl": "http://localhost:3001/uplay",
    "feedbackText": "El bot√≥n de reproducci√≥n no responde despu√©s de pausar",
    "feedbackType": "BUG",
    "componentContext": "button#play-pause-btn",
    "technicalContext": {
      "userAgent": "Mozilla/5.0...",
      "viewport": "1920x1080",
      "route": "/uplay/video/123"
    }
  }'
```

### Verificar Swagger Documentation

```bash
# Abrir en el navegador
open http://localhost:3002/api
```

---

## üîß Configuraci√≥n Avanzada

### Variables de Entorno

#### Archivo `.env` (Ra√≠z)
```env
# Base de datos
DATABASE_URL="postgresql://postgres:password@localhost:5432/coomunity_db"

# JWT
JWT_SECRET="your-super-secret-jwt-key"

# Redis
REDIS_URL="redis://localhost:6379"

# Puertos
PORT=3002
VITE_API_BASE_URL=http://localhost:3002

# CoP Or√°culo
LUKAS_EXCHANGE_RATE=1.0
FEEDBACK_REWARD_MULTIPLIER=1.5
COP_ORACULO_ENABLED=true
```

#### Archivo `Demo/apps/superapp-unified/.env`
```env
# API Configuration  
VITE_API_BASE_URL=http://localhost:3002
VITE_BASE_URL=http://localhost:3001

# Feature Flags
VITE_ENABLE_COP_ORACULO=true
VITE_ENABLE_LUKAS_ECONOMY=true
VITE_FEEDBACK_REWARDS_ENABLED=true

# WebSocket (Futuro)
VITE_COP_ORACULO_WS_URL=ws://localhost:3002
```

---

## üéÆ Funcionalidades Gamificadas

### üèÜ Sistema de Logros (En Desarrollo)

- **üîç Detector Novato**: Primer feedback reportado
- **üêõ Cazador de Bugs**: 10 bugs detectados  
- **üí° Visionario**: 5 mejoras implementadas
- **ü§ù Colaborador Ayni**: 20 transferencias de L√ºkas
- **üåü Or√°culo Maestro**: 100 feedback procesados

### üíé Senderos Elementales (Dise√±o Conceptual)

1. **üî• Fuego - Acci√≥n**: Enfoque en resoluci√≥n r√°pida
2. **üíß Agua - Fluidez**: Adaptaci√≥n y colaboraci√≥n  
3. **üå± Tierra - Solidez**: Documentaci√≥n y estabilidad
4. **üí® Aire - Visi√≥n**: Innovaci√≥n y mejoras UX

### üìä M√©tricas de Impacto

- **Feedback Velocity**: Tiempo promedio de resoluci√≥n
- **Community Collaboration Index**: Nivel de participaci√≥n
- **Wisdom Quotient**: Calidad de las contribuciones
- **Ayni Balance**: Equilibrio en dar y recibir

---

## üõ†Ô∏è Troubleshooting

### Problemas Comunes

#### 1. Backend No Se Inicia
```bash
# Verificar PostgreSQL
pg_isready

# Ver logs detallados
tail -f logs/backend.log

# Verificar puerto ocupado
lsof -i :3002
```

#### 2. Error de Migraci√≥n de BD
```bash
# Reset completo de BD
npm run db:reset

# Migraci√≥n manual
npx prisma migrate dev --name "fix-feedback-module"
```

#### 3. Endpoints No Responden
```bash
# Verificar health check
curl http://localhost:3002/api/health

# Verificar documentaci√≥n Swagger
curl http://localhost:3002/api-json
```

#### 4. Conflictos de Puerto
```bash
# Limpiar todos los servicios
./scripts/cop-oraculo-cleanup.sh

# Verificar puertos libres
lsof -i :3001,3002
```

### Logs y Debugging

```bash
# Ver logs del backend en tiempo real
tail -f logs/backend.log

# Ver logs de la SuperApp
tail -f logs/superapp.log

# Verificar procesos activos
ps aux | grep -E "(tsx|vite|npm)" | grep -v grep
```

---

## üìà Roadmap de Desarrollo

### ‚úÖ Fase 1: Fundamento T√©cnico (Completada)
- [x] Modelo de datos Feedback
- [x] API REST b√°sica
- [x] Integraci√≥n con SuperApp
- [x] Sistema de autenticaci√≥n
- [x] Scripts de setup automatizado

### üîÑ Fase 2: Investigaci√≥n y Conceptualizaci√≥n (Completada)  
- [x] Investigaci√≥n de Communities of Practice
- [x] An√°lisis de sistemas LETS
- [x] Dise√±o conceptual de gamificaci√≥n
- [x] Integraci√≥n con filosof√≠a Coom√únity

### üöß Fase 3: Interfaz de Usuario (En Progreso)
- [ ] Dashboard de la CoP Or√°culo
- [ ] Sistema de notificaciones
- [ ] Interfaces de gesti√≥n de feedback
- [ ] Visualizaci√≥n de m√©tricas

### üìã Fase 4: Econom√≠a de L√ºkas
- [ ] Sistema de recompensas
- [ ] Transferencias entre administradores  
- [ ] Marketplace de sabidur√≠a
- [ ] M√©tricas de valor generado

### üéØ Fase 5: Gamificaci√≥n Completa
- [ ] Sistema de logros
- [ ] Senderos elementales
- [ ] Leaderboards y rankings
- [ ] Eventos y desaf√≠os

### üåê Fase 6: Expansi√≥n y Integraci√≥n
- [ ] WebSockets para tiempo real
- [ ] Integraci√≥n con IA/ML
- [ ] API p√∫blica para extensiones
- [ ] Mobile app companion

---

## ü§ù Contribuir

### Filosof√≠a de Contribuci√≥n

La CoP Or√°culo opera bajo los principios de **Ayni** - toda contribuci√≥n genera valor que regresa a la comunidad. Cada commit, cada bug report, cada mejora alimenta el sistema de L√ºkas de Sabidur√≠a.

### C√≥mo Contribuir

1. **Fork** del repositorio
2. **Crear rama** para tu feature: `git checkout -b feature/cop-oraculo-nueva-funcionalidad`
3. **Commit** con mensaje descriptivo: `git commit -m "‚ú® [CoP] Agrega sistema de transferencias L√ºkas"`
4. **Push** a tu rama: `git push origin feature/cop-oraculo-nueva-funcionalidad` 
5. **Pull Request** con descripci√≥n detallada

### Est√°ndares de C√≥digo

- **TypeScript** estricto
- **Tests** unitarios y E2E
- **Documentaci√≥n** en c√≥digo y README
- **Alineaci√≥n filos√≥fica** con principios Coom√únity

---

## üìû Soporte

### Canales de Ayuda

- **üìß Email**: cop-oraculo@coomunity.com
- **üí¨ Discord**: Canal #cop-oraculo
- **üìã Issues**: GitHub Issues con tag `[CoP-Or√°culo]`
- **üìö Wiki**: Documentaci√≥n extendida

### Reportar Bugs

Al reportar bugs en la CoP Or√°culo, usa el propio sistema de feedback - ¬°es meta-recursivo! üîÑ

1. Usa el agente Or√°culo en la SuperApp
2. Describe el problema t√©cnicamente
3. El sistema generar√° L√ºkas por tu contribuci√≥n
4. La comunidad colaborar√° en la soluci√≥n

---

## üìú Licencia

Este proyecto est√° bajo la **Licencia del Bien Com√∫n Coom√únity** - uso libre para el beneficio colectivo, con restricciones para uso comercial extractivo.

---

## üåü Reconocimientos

- **Etienne Wenger**: Teor√≠a de Communities of Practice
- **Michael Linton**: Sistemas LETS  
- **Jane McGonigal**: Gamificaci√≥n con prop√≥sito
- **Comunidad Coom√únity**: Feedback continuo y sabidur√≠a colectiva

---

**Desarrollado con üíú por «ìAN - Agente IA Full-Stack de Coom√únity**

> *"Transformando cada feedback en un paso hacia la sabidur√≠a colectiva, honrando el Ayni entre quienes cuidan la experiencia de los Jugadores."*

---

üîÆ **¬°La CoP Or√°culo est√° lista para revolucionar c√≥mo gestionamos el feedback y generamos sabidur√≠a colectiva!** üîÆ